(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{210:function(e,t,i){},234:function(e,t,i){"use strict";i.r(t);var a=i(30),n=i.n(a),o=i(41),l=i(0),s=i.n(l),c=i(23),r=i.n(c),h=i(9),u=i(15),d=i(33),p=i(16),y=i(17),m=i(27),f=(i(210),{Tax:{"Income Tax":{"Labour income":["basic_rate","higher_rate","higher_threshold","add_rate","add_threshold"],Allowances:["personal_allowance"],Structural:["abolish_income_tax"]},"National Insurance":{Employee:["NI_main_rate","NI_PT","NI_add_rate","NI_UEL"],"Self-employed":["NI_LPL","NI_class_4_main_rate","NI_UPL","NI_class_4_add_rate"],Structural:["abolish_NI"]}},Benefit:{"Child Benefit":["abolish_CB","CB_eldest","CB_additional"],"Legacy benefits":["abolish_CTC","abolish_WTC","abolish_HB","abolish_IS","abolish_JSA_income"],"State Pension":["abolish_SP","abolish_PC"],"Universal Credit":["abolish_UC","abolish_UC_standard","UC_single_young","UC_single_old","UC_couple_young","UC_couple_old","abolish_UC_child","abolish_UC_disability","abolish_UC_carer","abolish_UC_housing_costs","UC_reduction_rate"]},"UBI Center":{"Universal Basic Income":["child_UBI","adult_UBI","senior_UBI","WA_adult_UBI_age","autoUBI"],"Land Value Tax":["LVT"]}}),j=i(1),b={age:{title:"Age",description:"The age of the person",default:18,value:18,min:18,max:80},employment_income:{title:"Employment income",description:"Income from employment (gross)",default:0,value:0,max:8e4,type:"yearly"},pension_income:{title:"Pension income",description:"Income from pensions (excluding the State Pension)",default:0,value:0,max:15e4,type:"yearly"},state_pension:{title:"State Pension income",description:"Income from the State Pension",default:0,value:0,max:12e3,type:"yearly"},savings_interest_income:{title:"Savings interest income",description:"Income from savings interest (including ISAs)",default:0,value:0,max:5e3,type:"yearly"},dividend_income:{title:"Dividend income",description:"Income from dividends",default:0,value:0,max:5e3,type:"yearly"}},g={age:{title:"Age",description:"The age of the person",default:10,value:10,min:0,max:17},employment_income:{title:"Employment income",description:"Income from employment (gross)",default:0,value:0,max:8e4,type:"yearly"}},_={household:JSON.parse(JSON.stringify({region:{title:"Region",description:"The region of the UK that this household resides in.",default:"South East",value:"South East",type:"category",options:["South East","London","Scotland","North West","East of England","West Midlands","South West","Yorkshire and the Humber","East Midlands","North East"]},land_value:{title:"Land value",description:"Total exposure to land value tax.",default:0,value:0,min:0,max:1e6,type:"gbp"}})),families:{family_1:Object(j.a)({},JSON.parse(JSON.stringify({claims_legacy_benefits:{title:"Legacy benefits claimant",description:"Whether this family would claim legacy benefits (not UC)",default:!1,value:!1,type:"bool"},claims_UC:{title:"UC claimant",description:"Whether this family would claim Universal Credit",default:!0,value:!0,type:"bool"},claims_child_benefit:{title:"CB claimant",description:"Whether this family would claim the Child Benefit",default:!0,value:!0,type:"bool"},claims_PC:{title:"PC claimant",description:"Whether this family would claim Pension Credit",default:!0,value:!0,type:"bool"},claims_HB:{title:"HB claimant",description:"Whether this family would claim Housing Benefit",default:!1,value:!1,type:"bool"},claims_WTC:{title:"WTC claimant",description:"Whether this family would claim Working Tax Credit",default:!1,value:!1,type:"bool"},claims_CTC:{title:"CTC claimant",description:"Whether this family would claim Child Tax Credit",default:!1,value:!1,type:"bool"}})))},people:{head:JSON.parse(JSON.stringify(b))}},v=i(172),x=i(250),O=i(251),U=i(249),C=i(175),I=i(12);function B(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("h1",{children:e.children})})}function S(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h3",{style:{paddingTop:30},children:e.children}),Object(I.jsx)(U.a,{})]})}function P(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("h5",{children:Object(I.jsx)("i",{children:e.children})})})}var w=function(e){Object(p.a)(i,e);var t=Object(y.a)(i);function i(e){var a;return Object(h.a)(this,i),(a=t.call(this,e)).state={text:""},a}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var e=this;fetch("/faq.md").then((function(e){return e.text()})).then((function(t){e.setState({text:t})}))}},{key:"render",value:function(){var e={h1:B,h2:S,h3:P};return Object(I.jsxs)(x.a,{style:{paddingTop:30},children:[Object(I.jsx)(O.a,{md:2}),Object(I.jsx)(O.a,{children:Object(I.jsx)(v.a,{rehypePlugins:[C.a],components:e,children:this.state.text})}),Object(I.jsx)(O.a,{md:2})]})}}]),i}(s.a.Component),T=i(253),k=i(178),N=i(255),E=i(252),A=i(254),L=i(90),W={"UBI Center":{logo:Object(I.jsx)(T.a,{src:"/logos/ubicenter.png",preview:!1,height:30,width:30})}},J=function(e){Object(p.a)(i,e);var t=Object(y.a)(i);function i(e){var a;return Object(h.a)(this,i),(a=t.call(this,e)).setPolicy=a.setPolicy.bind(Object(d.a)(a)),a.validatePolicy=a.validatePolicy.bind(Object(d.a)(a)),a.state={policy:{},household:_,householdEntered:!1,page:"",validator:a.validatePolicy},a}return Object(u.a)(i,[{key:"validatePolicy",value:function(e){return e.higher_threshold.value==e.add_threshold.value?(e.higher_threshold.error="The higher rate threshold must be different than the additional rate threshold.",e.add_threshold.error="The additional rate threshold must be different than the higher rate threshold.",{policy:e,invalid:!0}):{policy:e,invalid:!1}}},{key:"componentDidMount",value:function(){var e=this;fetch("https://uk.policyengine.org/api/parameters").then((function(e){return e.json()})).then((function(t){e.setState({policy:Object(m.k)(t)})}))}},{key:"setPolicy",value:function(e,t){var i=this.state.policy;i[e].value=t;var a=(this.state.validator||function(e){return{policy:e,invalid:!1}})(i),n=a.policy,o=a.invalid;this.setState({policy:n,invalid:o})}},{key:"render",value:function(){var e=this;return Object(I.jsxs)(m.f,{children:[Object(I.jsx)(m.b,{country:"UK",policy:this.state.policy,household:this.state.householdEntered}),Object(I.jsx)(m.h,{children:Object(I.jsxs)(m.j,{children:[Object(I.jsx)(m.i,{path:"/",exact:!0,children:Object(I.jsx)(m.e,{policy:this.state.policy,menuStructure:f,selected:"/Tax/Income Tax/Labour income",open:["/Tax","/Tax/Income Tax","/Benefit","/UBI Center"],setPolicy:this.setPolicy,overrides:{autoUBI:Object(I.jsx)(F,{})},setPage:function(t){e.setState({page:t})},organisations:W,invalid:this.state.invalid})}),Object(I.jsx)(m.i,{path:"/household",children:Object(I.jsx)(m.c,{policy:this.state.policy,household:this.state.household,selected:"head",defaultAdult:b,defaultChild:g,setHousehold:function(t){e.setState({household:t,householdEntered:!0})},setPage:function(t){e.setState({page:t})}})}),Object(I.jsx)(m.i,{path:"/population-impact",children:Object(I.jsx)(m.g,{country:"UK",policy:this.state.policy,setPage:function(t){e.setState({page:t})},api_url:"https://uk.policyengine.org"})}),Object(I.jsx)(m.i,{path:"/household-impact",children:Object(I.jsx)(m.d,{policy:this.state.policy,household:this.state.household,setPage:function(t){e.setState({page:t})},api_url:"https://uk.policyengine.org"})}),Object(I.jsx)(m.i,{path:"/faq",children:Object(I.jsx)(w,{})}),Object(I.jsx)(m.i,{path:"/situation",children:Object(I.jsx)(m.c,{policy:this.state.policy,household:this.state.household,selected:"head",defaultAdult:b,defaultChild:g,setHousehold:function(t){e.setState({household:t,householdEntered:!0})},setPage:function(t){e.setState({page:t})}})}),Object(I.jsx)(m.i,{path:"/household-results",children:Object(I.jsx)(m.d,{policy:this.state.policy,household:this.state.household,setPage:function(t){e.setState({page:t})},api_url:"https://uk.policyengine.org"})}),Object(I.jsx)(m.i,{path:"/population-results",children:Object(I.jsx)(m.g,{country:"UK",policy:this.state.policy,setPage:function(t){e.setState({page:t})},api_url:"https://uk.policyengine.org"})})]})}),Object(I.jsx)(m.a,{})]})}}]),i}(s.a.Component),F=(L.a,function(e){Object(p.a)(i,e);var t=Object(y.a)(i);function i(e){var a;return Object(h.a)(this,i),(a=t.call(this,e)).state={waiting:!1,amount:0},a.applyAutoUBI=a.applyAutoUBI.bind(Object(d.a)(a)),a}return Object(u.a)(i,[{key:"applyAutoUBI",value:function(){var e=this,t={};for(var i in this.props.policy)this.props.policy[i].value!==this.props.policy[i].default&&(t["policy_"+i]=this.props.policy[i].value);var a=new URL("https://uk.policyengine.org/api/ubi");a.search=new URLSearchParams(t).toString(),this.setState({waiting:!0},(function(){fetch(a).then((function(e){if(e.ok)return e.json();throw e})).then((function(t){var i=Math.round(t.UBI/52,2);e.setState({waiting:!1,amount:i}),e.props.setPolicy("child_UBI",e.props.policy.child_UBI.value+i),e.props.setPolicy("adult_UBI",e.props.policy.adult_UBI.value+i),e.props.setPolicy("senior_UBI",e.props.policy.senior_UBI.value+i)})).catch((function(t){k.b.error("Couldn't apply AutoUBI - something went wrong."),e.setState({waiting:!1})}))}))}},{key:"render",value:function(){var e;return this.state.waiting?e=Object(I.jsx)(N.a,{style:{marginTop:10},message:Object(I.jsxs)(I.Fragment,{children:["This reform would fund a UBI of \xa3",Object(I.jsx)(E.a,{indicator:Object(I.jsx)(L.a,{})}),"/week"]})}):this.state.amount&&(e=Object(I.jsx)(N.a,{style:{marginTop:10},message:Object(I.jsxs)(I.Fragment,{children:["This reform would fund a UBI of \xa3",this.state.amount,"/week"]})})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(U.a,{children:"AutoUBI"}),Object(I.jsx)(A.a,{onClick:this.applyAutoUBI,children:"Direct surplus revenue into UBI"}),e]})}}]),i}(s.a.Component)),H=J,M=new(i(171).a)("G-QL2XFHB7B4");!function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.initialize().catch((function(e){return console.log("Analytics Failure")})).finally((function(){r.a.render(Object(I.jsx)(H,{}),document.getElementById("root"))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()()}},[[234,1,2]]]);
//# sourceMappingURL=main.36e68ebf.chunk.js.map