{"version":3,"sources":["controls.js","household.js","faq.jsx","App.js","index.js"],"names":["PARAMETER_MENU","ADULT","age","title","description","default","value","min","max","employment_income","type","pension_income","state_pension","savings_interest_income","dividend_income","CHILD","SITUATION","household","JSON","parse","stringify","region","options","land_value","families","claims_legacy_benefits","claims_UC","claims_child_benefit","claims_PC","claims_HB","claims_WTC","claims_CTC","people","Header","props","children","Subheader","style","paddingTop","Subsubheader","FAQ","state","text","fetch","then","res","setState","components","h1","h2","h3","Row","Col","md","rehypePlugins","rehypeRaw","this","React","Component","ORGANISATIONS","src","preview","height","width","App","setPolicy","bind","validatePolicy","policy","householdEntered","page","validator","higher_threshold","add_threshold","error","invalid","json","data","getPolicyFromURL","name","oldPolicy","country","path","exact","menuStructure","selected","open","overrides","autoUBI","setPage","organisations","defaultAdult","defaultChild","setHousehold","api_url","AutoUBI","LoadingOutlined","waiting","amount","applyAutoUBI","submission","key","url","URL","search","URLSearchParams","toString","ok","Math","round","UBI","catch","e","message","result","marginTop","indicator","onClick","ga4react","GA4React","_","a","initialize","err","console","log","finally","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.36e68ebf.chunk.js","sourcesContent":["const PARAMETER_MENU = {\n\t\"Tax\": {\n\t\t\"Income Tax\": {\n\t\t\t\"Labour income\": [\n\t\t\t\t\"basic_rate\",\n\t\t\t\t\"higher_rate\",\n\t\t\t\t\"higher_threshold\",\n\t\t\t\t\"add_rate\",\n\t\t\t\t\"add_threshold\",\n\t\t\t],\n\t\t\t\"Allowances\": [\n\t\t\t\t\"personal_allowance\"\n\t\t\t],\n\t\t\t\"Structural\": [\n\t\t\t\t\"abolish_income_tax\"\n\t\t\t]\n\t\t},\n\t\t\"National Insurance\": {\n\t\t\t\"Employee\": [\n\t\t\t\t\"NI_main_rate\",\n\t\t\t\t\"NI_PT\",\n\t\t\t\t\"NI_add_rate\",\n\t\t\t\t\"NI_UEL\",\n\t\t\t],\n\t\t\t\"Self-employed\": [\n\t\t\t\t\"NI_LPL\",\n\t\t\t\t\"NI_class_4_main_rate\",\n\t\t\t\t\"NI_UPL\",\n\t\t\t\t\"NI_class_4_add_rate\"\n\t\t\t],\n\t\t\t\"Structural\": [\n\t\t\t\t\"abolish_NI\"\n\t\t\t]\n\t\t},\n\t},\n\t\"Benefit\": {\n\t\t\"Child Benefit\": [\n\t\t\t\"abolish_CB\",\n\t\t\t\"CB_eldest\",\n\t\t\t\"CB_additional\",\n\t\t],\n\t\t\"Legacy benefits\": [\n\t\t\t\"abolish_CTC\",\n\t\t\t\"abolish_WTC\",\n\t\t\t\"abolish_HB\",\n\t\t\t\"abolish_IS\",\n\t\t\t\"abolish_JSA_income\",\n\t\t],\n\t\t\"State Pension\": [\n\t\t\t\"abolish_SP\",\n\t\t\t\"abolish_PC\",\n\t\t],\n\t\t\"Universal Credit\": [\n\t\t\t\"abolish_UC\",\n\t\t\t\"abolish_UC_standard\",\n\t\t\t\"UC_single_young\",\n\t\t\t\"UC_single_old\",\n\t\t\t\"UC_couple_young\",\n\t\t\t\"UC_couple_old\",\n\t\t\t\"abolish_UC_child\",\n\t\t\t\"abolish_UC_disability\",\n\t\t\t\"abolish_UC_carer\",\n\t\t\t\"abolish_UC_housing_costs\",\n\t\t\t\"UC_reduction_rate\",\n\t\t]\n\t},\n\t\"UBI Center\": {\n\t\t\"Universal Basic Income\": [\n\t\t\t\"child_UBI\",\n\t\t\t\"adult_UBI\",\n\t\t\t\"senior_UBI\",\n\t\t\t\"WA_adult_UBI_age\",\n\t\t\t\"autoUBI\",\n\t\t],\n\t\t\"Land Value Tax\": [\n\t\t\t\"LVT\"\n\t\t],\n\t}\n};\n\nexport default PARAMETER_MENU;","export const HOUSEHOLD = {\n\tregion: {\n\t\ttitle: \"Region\",\n\t\tdescription: \"The region of the UK that this household resides in.\",\n\t\tdefault: \"South East\",\n\t\tvalue: \"South East\",\n\t\ttype: \"category\",\n\t\toptions: [\n\t\t\t\"South East\",\n\t\t\t\"London\",\n\t\t\t\"Scotland\",\n\t\t\t\"North West\",\n\t\t\t\"East of England\",\n\t\t\t\"West Midlands\",\n\t\t\t\"South West\",\n\t\t\t\"Yorkshire and the Humber\",\n\t\t\t\"East Midlands\",\n\t\t\t\"North East\",\n\t\t]\n\t},\n\tland_value: {\n\t\ttitle: \"Land value\",\n\t\tdescription: \"Total exposure to land value tax.\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmin: 0,\n\t\tmax: 1000000,\n\t\ttype: \"gbp\"\n\t}\n};\n\nexport const FAMILY = {\n\tclaims_legacy_benefits: {\n\t\ttitle: \"Legacy benefits claimant\",\n\t\tdescription: \"Whether this family would claim legacy benefits (not UC)\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\ttype: \"bool\"\n\t},\n\tclaims_UC: {\n\t\ttitle: \"UC claimant\",\n\t\tdescription: \"Whether this family would claim Universal Credit\",\n\t\tdefault: true,\n\t\tvalue: true,\n\t\ttype: \"bool\"\n\t},\n\tclaims_child_benefit: {\n\t\ttitle: \"CB claimant\",\n\t\tdescription: \"Whether this family would claim the Child Benefit\",\n\t\tdefault: true,\n\t\tvalue: true,\n\t\ttype: \"bool\"\n\t},\n\tclaims_PC: {\n\t\ttitle: \"PC claimant\",\n\t\tdescription: \"Whether this family would claim Pension Credit\",\n\t\tdefault: true,\n\t\tvalue: true,\n\t\ttype: \"bool\"\n\t},\n\tclaims_HB: {\n\t\ttitle: \"HB claimant\",\n\t\tdescription: \"Whether this family would claim Housing Benefit\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\ttype: \"bool\"\n\t},\n\tclaims_WTC: {\n\t\ttitle: \"WTC claimant\",\n\t\tdescription: \"Whether this family would claim Working Tax Credit\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\ttype: \"bool\"\n\t},\n\tclaims_CTC: {\n\t\ttitle: \"CTC claimant\",\n\t\tdescription: \"Whether this family would claim Child Tax Credit\",\n\t\tdefault: false,\n\t\tvalue: false,\n\t\ttype: \"bool\"\n\t}\n};\n\nexport const ADULT = {\n\tage: {\n\t\ttitle: \"Age\",\n\t\tdescription: \"The age of the person\",\n\t\tdefault: 18,\n\t\tvalue: 18,\n\t\tmin: 18,\n\t\tmax: 80\n\t},\n\temployment_income: {\n\t\ttitle: \"Employment income\",\n\t\tdescription: \"Income from employment (gross)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 80000,\n\t\ttype: \"yearly\"\n\t},\n\tpension_income: {\n\t\ttitle: \"Pension income\",\n\t\tdescription: \"Income from pensions (excluding the State Pension)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 150000,\n\t\ttype: \"yearly\"\n\t},\n\tstate_pension: {\n\t\ttitle: \"State Pension income\",\n\t\tdescription: \"Income from the State Pension\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 12000,\n\t\ttype: \"yearly\"\n\t},\n\tsavings_interest_income: {\n\t\ttitle: \"Savings interest income\",\n\t\tdescription: \"Income from savings interest (including ISAs)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 5000,\n\t\ttype: \"yearly\"\n\t},\n\tdividend_income: {\n\t\ttitle: \"Dividend income\",\n\t\tdescription: \"Income from dividends\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 5000,\n\t\ttype: \"yearly\"\n\t},\n};\n\nexport const CHILD = {\n\tage: {\n\t\ttitle: \"Age\",\n\t\tdescription: \"The age of the person\",\n\t\tdefault: 10,\n\t\tvalue: 10,\n\t\tmin: 0,\n\t\tmax: 17\n\t},\n\temployment_income: {\n\t\ttitle: \"Employment income\",\n\t\tdescription: \"Income from employment (gross)\",\n\t\tdefault: 0,\n\t\tvalue: 0,\n\t\tmax: 80000,\n\t\ttype: \"yearly\"\n\t},\n};\n\nexport const SITUATION = {\n\thousehold: JSON.parse(JSON.stringify(HOUSEHOLD)),\n\tfamilies: {\n\t\t\"family_1\": {\n\t\t\t...JSON.parse(JSON.stringify(FAMILY)),\n\t\t}\n\t},\n\tpeople: {\n\t\t\"head\": JSON.parse(JSON.stringify(ADULT))\n\t}\n};","import ReactMarkdown from \"react-markdown\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Typography, Divider } from \"antd\";\nimport React from \"react\";\nimport rehypeRaw from \"rehype-raw\";\n\nfunction Header(props) {\n\treturn <><h1>{props.children}</h1></>;\n}\n\nfunction Subheader(props) {\n\treturn <><h3 style={{paddingTop: 30}}>{props.children}</h3><Divider /></>;\n}\n\nfunction Subsubheader(props) {\n\treturn <><h5><i>{props.children}</i></h5></>;\n}\n\nexport class FAQ extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {text: \"\"};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(\"/faq.md\").then(res => res.text()).then(text => {this.setState({text: text});});\n\t}\n\n\trender() {\n\t\tconst components = {h1: Header, h2: Subheader, h3: Subsubheader};\n\t\treturn <Row style={{paddingTop: 30}}>\n\t\t\t<Col md={2}>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<ReactMarkdown rehypePlugins={[rehypeRaw]} components={components}>{this.state.text}</ReactMarkdown>\n\t\t\t</Col>\n\t\t\t<Col md={2}>\n\t\t\t</Col>\n\t\t</Row>;\n\t}\n}\n\nexport default FAQ;","import React from \"react\";\n\nimport { PolicyEngine, Header, Footer, Policy, Responsive, PopulationResults, Switch, Route, getPolicyFromURL, Household, HouseholdImpact } from \"policyengine-core\";\nimport \"./policyengine.css\";\n\nimport PARAMETER_MENU from \"./controls\";\nimport POLICY from \"./parameters\";\nimport { ADULT, CHILD, SITUATION } from \"./household\";\nimport { FAQ } from \"./faq\";\nimport { Divider, Button, message, Alert, Spin, Image } from \"antd\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\n\nconst ORGANISATIONS = {\n\t\"UBI Center\": {\n\t\t\"logo\": <Image src=\"/logos/ubicenter.png\" preview={false} height={30} width={30}/>,\n\t}\n};\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setPolicy = this.setPolicy.bind(this);\n\t\tthis.validatePolicy = this.validatePolicy.bind(this);\n\t\tthis.state = {policy: {}, household: SITUATION, householdEntered: false, page: \"\", validator: this.validatePolicy};\n\t}\n\n\tvalidatePolicy(policy) {\n\t\tif(policy.higher_threshold.value == policy.add_threshold.value) {\n\t\t\tpolicy.higher_threshold.error = \"The higher rate threshold must be different than the additional rate threshold.\";\n\t\t\tpolicy.add_threshold.error = \"The additional rate threshold must be different than the higher rate threshold.\";\n\t\t\treturn {policy: policy, invalid: true};\n\t\t}\n\t\treturn {policy: policy, invalid: false};\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(\"https://uk.policyengine.org/api/parameters\").then(res => res.json()).then(data => {this.setState({policy: getPolicyFromURL(data)});});\n\t}\n\n\tsetPolicy(name, value) {\n\t\tlet oldPolicy = this.state.policy;\n\t\toldPolicy[name].value = value;\n\t\tconst { policy, invalid } = (this.state.validator || (policy => {return {policy: policy, invalid: false};}))(oldPolicy);\n\t\tthis.setState({policy: policy, invalid: invalid});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<PolicyEngine>\n\t\t\t\t<Header country=\"UK\" policy={this.state.policy} household={this.state.householdEntered}/>\n\t\t\t\t<Responsive>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t\t<Policy \n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\tmenuStructure={PARAMETER_MENU}\n\t\t\t\t\t\t\t\tselected={\"/Tax/Income Tax/Labour income\"}\n\t\t\t\t\t\t\t\topen={[\"/Tax\", \"/Tax/Income Tax\", \"/Benefit\", \"/UBI Center\"]}\n\t\t\t\t\t\t\t\tsetPolicy={this.setPolicy}\n\t\t\t\t\t\t\t\toverrides={{autoUBI: <AutoUBI />}}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t\torganisations={ORGANISATIONS}\n\t\t\t\t\t\t\t\tinvalid={this.state.invalid}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/household\">\n\t\t\t\t\t\t\t<Household \n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\thousehold={this.state.household}\n\t\t\t\t\t\t\t\tselected=\"head\"\n\t\t\t\t\t\t\t\tdefaultAdult={ADULT}\n\t\t\t\t\t\t\t\tdefaultChild={CHILD}\n\t\t\t\t\t\t\t\tsetHousehold={household => {this.setState({household: household, householdEntered: true});}}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/population-impact\">\n\t\t\t\t\t\t\t<PopulationResults \n\t\t\t\t\t\t\t\tcountry={\"UK\"}\n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t\tapi_url=\"https://uk.policyengine.org\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/household-impact\">\n\t\t\t\t\t\t\t<HouseholdImpact\n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\thousehold={this.state.household}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t\tapi_url=\"https://uk.policyengine.org\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/faq\">\n\t\t\t\t\t\t\t<FAQ />\n\t\t\t\t\t\t</Route>\n\n\t\t\t\t\t\t{/* Backwards compatibility*/}\n\n\t\t\t\t\t\t<Route path=\"/situation\">\n\t\t\t\t\t\t\t<Household \n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\thousehold={this.state.household}\n\t\t\t\t\t\t\t\tselected=\"head\"\n\t\t\t\t\t\t\t\tdefaultAdult={ADULT}\n\t\t\t\t\t\t\t\tdefaultChild={CHILD}\n\t\t\t\t\t\t\t\tsetHousehold={household => {this.setState({household: household, householdEntered: true});}}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/household-results\">\n\t\t\t\t\t\t\t<HouseholdImpact\n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\thousehold={this.state.household}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t\tapi_url=\"https://uk.policyengine.org\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/population-results\">\n\t\t\t\t\t\t\t<PopulationResults \n\t\t\t\t\t\t\t\tcountry={\"UK\"}\n\t\t\t\t\t\t\t\tpolicy={this.state.policy}\n\t\t\t\t\t\t\t\tsetPage={page => {this.setState({page: page});}}\n\t\t\t\t\t\t\t\tapi_url=\"https://uk.policyengine.org\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Responsive>\n\t\t\t\t<Footer />\n\t\t\t</PolicyEngine>\n\t\t);\n\t}\n}\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nclass AutoUBI extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {waiting: false, amount: 0};\n\t\tthis.applyAutoUBI = this.applyAutoUBI.bind(this);\n\t}\n\n\tapplyAutoUBI() {\n\t\tconst submission = {};\n\t\tfor (const key in this.props.policy) {\n\t\t\tif(this.props.policy[key].value !== this.props.policy[key].default) {\n\t\t\t\tsubmission[\"policy_\" + key] = this.props.policy[key].value;\n\t\t\t}\n\t\t}\n\t\tlet url = new URL(\"https://uk.policyengine.org/api/ubi\");\n\t\turl.search = new URLSearchParams(submission).toString();\n\t\tthis.setState({waiting: true}, () => {\n\t\t\tfetch(url)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.ok) {\n\t\t\t\t\t\treturn res.json();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow res;\n\t\t\t\t\t}\n\t\t\t\t}).then((json) => {\n\t\t\t\t\tconst amount = Math.round(json.UBI / 52, 2);\n\t\t\t\t\tthis.setState({waiting: false, amount: amount});\n\t\t\t\t\tthis.props.setPolicy(\"child_UBI\", this.props.policy[\"child_UBI\"].value + amount);\n\t\t\t\t\tthis.props.setPolicy(\"adult_UBI\", this.props.policy[\"adult_UBI\"].value + amount);\n\t\t\t\t\tthis.props.setPolicy(\"senior_UBI\", this.props.policy[\"senior_UBI\"].value + amount);\n\t\t\t\t}).catch(e => {\n\t\t\t\t\tmessage.error(\"Couldn't apply AutoUBI - something went wrong.\");\n\t\t\t\t\tthis.setState({waiting: false});\n\t\t\t\t});\n\t\t});\n\t}\n\t\n\trender() {\n\t\tlet result;\n\t\tif(this.state.waiting) {\n\t\t\tresult = <Alert style={{marginTop: 10}} message={<>This reform would fund a UBI of £<Spin indicator={<LoadingOutlined />}/>/week</>} />;\n\t\t} else if(this.state.amount) {\n\t\t\tresult = <Alert style={{marginTop: 10}} message={<>This reform would fund a UBI of £{this.state.amount}/week</>} /> ;\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Divider>AutoUBI</Divider>\n\t\t\t\t<Button onClick={this.applyAutoUBI}>Direct surplus revenue into UBI</Button>\n\t\t\t\t{result}\n\t\t\t</>\n\t\t);\n\t}\n}\n\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport GA4React from \"ga-4-react\";\n\n\nconst ga4react = new GA4React(\"G-QL2XFHB7B4\");\n(\n\tasync _ => {\n\t\tawait ga4react.initialize()\n\t\t\t.catch(err => console.log(\"Analytics Failure\"))\n\t\t\t.finally(() => {\n\t\t\t\tReactDOM.render(\n\t\t\t\t\t<App />,\n\t\t\t\t\tdocument.getElementById(\"root\"),\n\t\t\t\t);\n\t\t\t});\n\t}\n)();"],"sourceRoot":""}